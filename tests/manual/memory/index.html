<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8">

		<title>Memory Test - SCEditor</title>

		<link href="../../../dist/sceditor.min.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
		
		<script src="../../../dist/sceditor.min.js"></script>
		<link rel="stylesheet"
			href="http://fonts.googleapis.com/css?family=Open+Sans:400,500,700">
		<link rel="stylesheet" href="../style.css">
		<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" rel="stylesheet">

		<script src="./test.js"></script>
	</head>
	<body>
		<h1 class="memory-header">Memory Tests</h1>

		<div id="container">
			<div id="editor">
				<h2>Test Area</h2>

				<p>This test will create and destroy SCEditor 100 times.
				To make sure there are no memory leaks you will need to manually
				check the memory usage.</p>

				<p>To do this you will need to create heap snapshots:</p>
				<ul>
					<li>
						Chrome:
							Developer tools -> Profiles -> Take Heap Snapshot
					</li>
					<li>
						IE 11+:
							Developer tools -> Memory -> Take Heap Snapshot
					</li>
				</ul>

				<p>To perform this test:</p>
				<ol>
					<li>
						Start the test and once complete create the first heap
						snapshot.
					</li>
					<li>
						Run the test again and create another heap snapshot.
					</li>
					<li>
						Compare the memory usage between the two snapshots.
					</li>
				</ol>
				<p>If the memory usage is less than or equal to the memory usage
					of the first snapshot then there's no leaks.
					If the memory usage has increased compared to the first
					snapshot then you will need to search though the snapshot to
					make sure there are no references to SCEditor left.</p>


				<p><input type="submit" value="Begin Test" /></p>

				<div id="progress-bar-container">
					<div id="progress-bar">
						<div id="progress" style="width: 0%"> </div>
					</div>
				</div>

				<textarea id="testarea"></textarea>
			</div>
		</div>
	</body>
</html>